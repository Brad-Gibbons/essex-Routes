---
import Layout from "../layouts/Layout.astro";
import Card from "../components/Card.astro";

export async function getStaticPaths() {
	const posts = await Astro.glob("../posts/*.md");

	return posts.map((post) => ({
		params: {
			slug: post.frontmatter.slug,
		},
		props: {
			post,
		},
	}));
}

const { Content, frontmatter } = Astro.props.post;
---

<Layout>
	<section class="page-content">
		<div class="container">
			<Card>
				<a href="/blog" class="btn">Go back</a>
				<h2>{frontmatter.title}</h2>
				<p><strong>{frontmatter.distanceK}</strong></p>
				<p>{frontmatter.excerpt}</p>
				<div class="directions">
					<Content />
				</div>

				<div>
					Added on {new Date(frontmatter.date).toLocaleDateString()}
				</div>
			</Card>
		</div>
	</section>
</Layout>

<style is:global>
	li {
		margin-left: 10px;
	}
</style>
